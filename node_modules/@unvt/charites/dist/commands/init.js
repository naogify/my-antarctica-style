"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.init = void 0;
const path_1 = __importDefault(require("path"));
const fs_1 = __importDefault(require("fs"));
const js_yaml_1 = __importDefault(require("js-yaml"));
// TODO: We need type definition for style.
const styleRoot = {
    version: 8,
    name: "My Style",
    sprite: "",
    glyphs: "",
    sources: {},
    layers: []
};
function init(file) {
    const styleYAML = js_yaml_1.default.dump(styleRoot);
    let stylePath = path_1.default.resolve(process.cwd(), file);
    // The `source` is absolute path.
    if (file.match(/^\//)) {
        stylePath = file;
    }
    try {
        fs_1.default.writeFileSync(stylePath, styleYAML);
    }
    catch (err) {
        throw `${stylePath}: Permission denied`;
    }
}
exports.init = init;
